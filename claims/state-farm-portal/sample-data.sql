-- State Farm Live Portal - Sample Data Script
-- Run this in Oracle SQL Developer or SQLcl to populate your database with test data

-- ============================================================================
-- STEP 1: Create Tables (if they don't exist)
-- ============================================================================

-- ADJUSTERS Table
CREATE TABLE ADJUSTERS (
    ADJUSTER_ID NUMBER PRIMARY KEY,
    ADJUSTER_NAME VARCHAR2(100) NOT NULL,
    EMAIL VARCHAR2(100),
    PHONE VARCHAR2(20),
    SPECIALIZATION VARCHAR2(50),
    HIRE_DATE DATE DEFAULT SYSDATE
);

-- CLAIMS Table
CREATE TABLE CLAIMS (
    CLAIM_ID NUMBER PRIMARY KEY,
    CLAIM_NUMBER VARCHAR2(50) UNIQUE NOT NULL,
    CLAIM_TYPE VARCHAR2(50) NOT NULL,
    CLAIM_SUBTYPE VARCHAR2(50),
    POLICY_NUMBER VARCHAR2(50) NOT NULL,
    CUSTOMER_NAME VARCHAR2(100) NOT NULL,
    CUSTOMER_EMAIL VARCHAR2(100),
    CUSTOMER_PHONE VARCHAR2(20),
    INCIDENT_DATE DATE NOT NULL,
    STATUS VARCHAR2(50) DEFAULT 'INITIATED',
    PRIORITY VARCHAR2(20) DEFAULT 'NORMAL',
    PERIL_CODE VARCHAR2(20),
    ESTIMATED_LOSS NUMBER(10,2),
    AI_CONFIDENCE_SCORE NUMBER(5,2),
    ADJUSTER_ID NUMBER,
    ADJUSTER_NAME VARCHAR2(100),
    CREATED_DATE DATE DEFAULT SYSDATE,
    FOREIGN KEY (ADJUSTER_ID) REFERENCES ADJUSTERS(ADJUSTER_ID)
);

-- DAMAGES Table
CREATE TABLE DAMAGES (
    DAMAGE_ID NUMBER PRIMARY KEY,
    CLAIM_ID NUMBER NOT NULL,
    DAMAGE_TYPE VARCHAR2(50) NOT NULL,
    DAMAGE_DESCRIPTION VARCHAR2(500),
    SEVERITY VARCHAR2(20) CHECK (SEVERITY IN ('MINOR', 'MODERATE', 'SEVERE')),
    ESTIMATED_REPAIR_COST NUMBER(10,2),
    ASSESSMENT_DATE DATE DEFAULT SYSDATE,
    FOREIGN KEY (CLAIM_ID) REFERENCES CLAIMS(CLAIM_ID)
);

-- ============================================================================
-- STEP 2: Insert Sample Adjusters
-- ============================================================================

INSERT INTO ADJUSTERS (ADJUSTER_ID, ADJUSTER_NAME, EMAIL, PHONE, SPECIALIZATION, HIRE_DATE)
VALUES (101, 'Sarah Johnson', 'sarah.johnson@statefarm.com', '555-0101', 'PROPERTY', TO_DATE('2020-01-15', 'YYYY-MM-DD'));

INSERT INTO ADJUSTERS (ADJUSTER_ID, ADJUSTER_NAME, EMAIL, PHONE, SPECIALIZATION, HIRE_DATE)
VALUES (102, 'Michael Chen', 'michael.chen@statefarm.com', '555-0102', 'AUTO', TO_DATE('2019-03-22', 'YYYY-MM-DD'));

INSERT INTO ADJUSTERS (ADJUSTER_ID, ADJUSTER_NAME, EMAIL, PHONE, SPECIALIZATION, HIRE_DATE)
VALUES (103, 'Emily Rodriguez', 'emily.rodriguez@statefarm.com', '555-0103', 'CASUALTY', TO_DATE('2021-06-10', 'YYYY-MM-DD'));

INSERT INTO ADJUSTERS (ADJUSTER_ID, ADJUSTER_NAME, EMAIL, PHONE, SPECIALIZATION, HIRE_DATE)
VALUES (104, 'James Wilson', 'james.wilson@statefarm.com', '555-0104', 'PROPERTY', TO_DATE('2018-11-05', 'YYYY-MM-DD'));

INSERT INTO ADJUSTERS (ADJUSTER_ID, ADJUSTER_NAME, EMAIL, PHONE, SPECIALIZATION, HIRE_DATE)
VALUES (105, 'Lisa Thompson', 'lisa.thompson@statefarm.com', '555-0105', 'AUTO', TO_DATE('2022-02-14', 'YYYY-MM-DD'));

-- ============================================================================
-- STEP 3: Insert Sample Claims
-- ============================================================================

-- Claim 1: Water damage - High priority
INSERT INTO CLAIMS (CLAIM_ID, CLAIM_NUMBER, CLAIM_TYPE, CLAIM_SUBTYPE, POLICY_NUMBER, 
    CUSTOMER_NAME, CUSTOMER_EMAIL, CUSTOMER_PHONE, INCIDENT_DATE, STATUS, PRIORITY, 
    PERIL_CODE, ESTIMATED_LOSS, AI_CONFIDENCE_SCORE, ADJUSTER_ID, ADJUSTER_NAME)
VALUES (1, 'CLM-2024-0001', 'PROPERTY', 'WATER', 'POL-789456', 
    'John Smith', 'john.smith@email.com', '555-1001', TO_DATE('2024-03-15', 'YYYY-MM-DD'),
    'INVESTIGATING', 'HIGH', 'WATER-PIPE', 15000.00, 87.5, 101, 'Sarah Johnson');

-- Claim 2: Storm damage - Urgent
INSERT INTO CLAIMS (CLAIM_ID, CLAIM_NUMBER, CLAIM_TYPE, CLAIM_SUBTYPE, POLICY_NUMBER, 
    CUSTOMER_NAME, CUSTOMER_EMAIL, CUSTOMER_PHONE, INCIDENT_DATE, STATUS, PRIORITY, 
    PERIL_CODE, ESTIMATED_LOSS, AI_CONFIDENCE_SCORE, ADJUSTER_ID, ADJUSTER_NAME)
VALUES (2, 'CLM-2024-0002', 'PROPERTY', 'STORM', 'POL-456123', 
    'Mary Johnson', 'mary.j@email.com', '555-1002', TO_DATE('2024-03-20', 'YYYY-MM-DD'),
    'ASSIGNED', 'URGENT', 'WIND-HAIL', 45000.00, 92.3, 104, 'James Wilson');

-- Claim 3: Auto collision - Normal priority
INSERT INTO CLAIMS (CLAIM_ID, CLAIM_NUMBER, CLAIM_TYPE, CLAIM_SUBTYPE, POLICY_NUMBER, 
    CUSTOMER_NAME, CUSTOMER_EMAIL, CUSTOMER_PHONE, INCIDENT_DATE, STATUS, PRIORITY, 
    PERIL_CODE, ESTIMATED_LOSS, AI_CONFIDENCE_SCORE, ADJUSTER_ID, ADJUSTER_NAME)
VALUES (3, 'CLM-2024-0003', 'AUTO', 'COLLISION', 'POL-147258', 
    'Robert Davis', 'robert.d@email.com', '555-1003', TO_DATE('2024-03-22', 'YYYY-MM-DD'),
    'INTAKE_COMPLETE', 'NORMAL', 'AUTO-COLL', 8500.00, 78.9, 102, 'Michael Chen');

-- Claim 4: Fire damage - Urgent
INSERT INTO CLAIMS (CLAIM_ID, CLAIM_NUMBER, CLAIM_TYPE, CLAIM_SUBTYPE, POLICY_NUMBER, 
    CUSTOMER_NAME, CUSTOMER_EMAIL, CUSTOMER_PHONE, INCIDENT_DATE, STATUS, PRIORITY, 
    PERIL_CODE, ESTIMATED_LOSS, AI_CONFIDENCE_SCORE, ADJUSTER_ID, ADJUSTER_NAME)
VALUES (4, 'CLM-2024-0004', 'PROPERTY', 'FIRE', 'POL-369852', 
    'Jennifer Martinez', 'jennifer.m@email.com', '555-1004', TO_DATE('2024-03-18', 'YYYY-MM-DD'),
    'UNDER_REVIEW', 'URGENT', 'FIRE-KITCHEN', 67000.00, 95.7, 101, 'Sarah Johnson');

-- Claim 5: Theft - High priority
INSERT INTO CLAIMS (CLAIM_ID, CLAIM_NUMBER, CLAIM_TYPE, CLAIM_SUBTYPE, POLICY_NUMBER, 
    CUSTOMER_NAME, CUSTOMER_EMAIL, CUSTOMER_PHONE, INCIDENT_DATE, STATUS, PRIORITY, 
    PERIL_CODE, ESTIMATED_LOSS, AI_CONFIDENCE_SCORE, ADJUSTER_ID, ADJUSTER_NAME)
VALUES (5, 'CLM-2024-0005', 'PROPERTY', 'THEFT', 'POL-951753', 
    'David Brown', 'david.b@email.com', '555-1005', TO_DATE('2024-03-19', 'YYYY-MM-DD'),
    'INVESTIGATING', 'HIGH', 'THEFT-BURG', 12000.00, 65.2, 104, 'James Wilson');

-- Claim 6: Auto vandalism - Normal
INSERT INTO CLAIMS (CLAIM_ID, CLAIM_NUMBER, CLAIM_TYPE, CLAIM_SUBTYPE, POLICY_NUMBER, 
    CUSTOMER_NAME, CUSTOMER_EMAIL, CUSTOMER_PHONE, INCIDENT_DATE, STATUS, PRIORITY, 
    PERIL_CODE, ESTIMATED_LOSS, AI_CONFIDENCE_SCORE, ADJUSTER_ID, ADJUSTER_NAME)
VALUES (6, 'CLM-2024-0006', 'AUTO', 'VANDALISM', 'POL-753951', 
    'Susan Williams', 'susan.w@email.com', '555-1006', TO_DATE('2024-03-21', 'YYYY-MM-DD'),
    'ASSIGNED', 'NORMAL', 'AUTO-VAND', 3500.00, 82.1, 105, 'Lisa Thompson');

-- Claim 7: Injury - High priority
INSERT INTO CLAIMS (CLAIM_ID, CLAIM_NUMBER, CLAIM_TYPE, CLAIM_SUBTYPE, POLICY_NUMBER, 
    CUSTOMER_NAME, CUSTOMER_EMAIL, CUSTOMER_PHONE, INCIDENT_DATE, STATUS, PRIORITY, 
    PERIL_CODE, ESTIMATED_LOSS, AI_CONFIDENCE_SCORE, ADJUSTER_ID, ADJUSTER_NAME)
VALUES (7, 'CLM-2024-0007', 'LIABILITY', 'INJURY', 'POL-159357', 
    'Thomas Anderson', 'thomas.a@email.com', '555-1007', TO_DATE('2024-03-17', 'YYYY-MM-DD'),
    'INVESTIGATING', 'HIGH', 'SLIP-FALL', 25000.00, 71.8, 103, 'Emily Rodriguez');

-- Claim 8: Water damage - Unassigned
INSERT INTO CLAIMS (CLAIM_ID, CLAIM_NUMBER, CLAIM_TYPE, CLAIM_SUBTYPE, POLICY_NUMBER, 
    CUSTOMER_NAME, CUSTOMER_EMAIL, CUSTOMER_PHONE, INCIDENT_DATE, STATUS, PRIORITY, 
    PERIL_CODE, ESTIMATED_LOSS, AI_CONFIDENCE_SCORE)
VALUES (8, 'CLM-2024-0008', 'PROPERTY', 'WATER', 'POL-852963', 
    'Patricia Taylor', 'patricia.t@email.com', '555-1008', TO_DATE('2024-03-23', 'YYYY-MM-DD'),
    'INITIATED', 'HIGH', 'WATER-FLOOD', 18000.00, 88.4);

-- Claim 9: Storm damage - Low confidence
INSERT INTO CLAIMS (CLAIM_ID, CLAIM_NUMBER, CLAIM_TYPE, CLAIM_SUBTYPE, POLICY_NUMBER, 
    CUSTOMER_NAME, CUSTOMER_EMAIL, CUSTOMER_PHONE, INCIDENT_DATE, STATUS, PRIORITY, 
    PERIL_CODE, ESTIMATED_LOSS, AI_CONFIDENCE_SCORE, ADJUSTER_ID, ADJUSTER_NAME)
VALUES (9, 'CLM-2024-0009', 'PROPERTY', 'STORM', 'POL-741852', 
    'Christopher Lee', 'chris.lee@email.com', '555-1009', TO_DATE('2024-03-16', 'YYYY-MM-DD'),
    'UNDER_REVIEW', 'NORMAL', 'STORM-WIND', 9500.00, 45.6, 104, 'James Wilson');

-- Claim 10: Auto comprehensive - Unassigned
INSERT INTO CLAIMS (CLAIM_ID, CLAIM_NUMBER, CLAIM_TYPE, CLAIM_SUBTYPE, POLICY_NUMBER, 
    CUSTOMER_NAME, CUSTOMER_EMAIL, CUSTOMER_PHONE, INCIDENT_DATE, STATUS, PRIORITY, 
    PERIL_CODE, ESTIMATED_LOSS, AI_CONFIDENCE_SCORE)
VALUES (10, 'CLM-2024-0010', 'AUTO', 'COMPREHENSIVE', 'POL-963741', 
    'Amanda White', 'amanda.w@email.com', '555-1010', TO_DATE('2024-03-24', 'YYYY-MM-DD'),
    'INITIATED', 'NORMAL', 'AUTO-COMP', 5200.00, 91.2);

-- ============================================================================
-- STEP 4: Insert Sample Damages
-- ============================================================================

-- Damages for Claim 1 (Water damage)
INSERT INTO DAMAGES (DAMAGE_ID, CLAIM_ID, DAMAGE_TYPE, DAMAGE_DESCRIPTION, SEVERITY, ESTIMATED_REPAIR_COST)
VALUES (1, 1, 'STRUCTURAL', 'Water damage to basement walls and flooring from pipe burst', 
    'MODERATE', 8500.00);

INSERT INTO DAMAGES (DAMAGE_ID, CLAIM_ID, DAMAGE_TYPE, DAMAGE_DESCRIPTION, SEVERITY, ESTIMATED_REPAIR_COST)
VALUES (2, 1, 'CONTENTS', 'Damaged furniture, electronics, and personal items in basement', 
    'MODERATE', 6500.00);

-- Damages for Claim 2 (Storm)
INSERT INTO DAMAGES (DAMAGE_ID, CLAIM_ID, DAMAGE_TYPE, DAMAGE_DESCRIPTION, SEVERITY, ESTIMATED_REPAIR_COST)
VALUES (3, 2, 'ROOF', 'Hail damage to roof shingles, multiple areas affected', 
    'SEVERE', 28000.00);

INSERT INTO DAMAGES (DAMAGE_ID, CLAIM_ID, DAMAGE_TYPE, DAMAGE_DESCRIPTION, SEVERITY, ESTIMATED_REPAIR_COST)
VALUES (4, 2, 'WINDOWS', 'Three broken windows from wind-blown debris', 
    'MODERATE', 4500.00);

INSERT INTO DAMAGES (DAMAGE_ID, CLAIM_ID, DAMAGE_TYPE, DAMAGE_DESCRIPTION, SEVERITY, ESTIMATED_REPAIR_COST)
VALUES (5, 2, 'SIDING', 'Damaged vinyl siding on north side of house', 
    'MODERATE', 12500.00);

-- Damages for Claim 3 (Auto collision)
INSERT INTO DAMAGES (DAMAGE_ID, CLAIM_ID, DAMAGE_TYPE, DAMAGE_DESCRIPTION, SEVERITY, ESTIMATED_REPAIR_COST)
VALUES (6, 3, 'VEHICLE', 'Front bumper, hood, and right fender damage from collision', 
    'MODERATE', 8500.00);

-- Damages for Claim 4 (Fire)
INSERT INTO DAMAGES (DAMAGE_ID, CLAIM_ID, DAMAGE_TYPE, DAMAGE_DESCRIPTION, SEVERITY, ESTIMATED_REPAIR_COST)
VALUES (7, 4, 'STRUCTURAL', 'Fire damage to kitchen and adjacent living room', 
    'SEVERE', 45000.00);

INSERT INTO DAMAGES (DAMAGE_ID, CLAIM_ID, DAMAGE_TYPE, DAMAGE_DESCRIPTION, SEVERITY, ESTIMATED_REPAIR_COST)
VALUES (8, 4, 'SMOKE', 'Smoke damage throughout upper floor', 
    'MODERATE', 15000.00);

INSERT INTO DAMAGES (DAMAGE_ID, CLAIM_ID, DAMAGE_TYPE, DAMAGE_DESCRIPTION, SEVERITY, ESTIMATED_REPAIR_COST)
VALUES (9, 4, 'CONTENTS', 'Destroyed appliances and kitchen cabinets', 
    'SEVERE', 7000.00);

-- Damages for Claim 5 (Theft)
INSERT INTO DAMAGES (DAMAGE_ID, CLAIM_ID, DAMAGE_TYPE, DAMAGE_DESCRIPTION, SEVERITY, ESTIMATED_REPAIR_COST)
VALUES (10, 5, 'THEFT', 'Stolen electronics: TV, laptop, gaming console', 
    'MODERATE', 12000.00);

-- Damages for Claim 7 (Injury)
INSERT INTO DAMAGES (DAMAGE_ID, CLAIM_ID, DAMAGE_TYPE, DAMAGE_DESCRIPTION, SEVERITY, ESTIMATED_REPAIR_COST)
VALUES (11, 7, 'MEDICAL', 'Medical expenses for slip and fall injury', 
    'MODERATE', 25000.00);

-- ============================================================================
-- STEP 5: Verify Data
-- ============================================================================

-- Count records
SELECT 'ADJUSTERS' as TABLE_NAME, COUNT(*) as RECORD_COUNT FROM ADJUSTERS
UNION ALL
SELECT 'CLAIMS', COUNT(*) FROM CLAIMS
UNION ALL
SELECT 'DAMAGES', COUNT(*) FROM DAMAGES;

-- Show sample claims
SELECT CLAIM_NUMBER, CUSTOMER_NAME, CLAIM_SUBTYPE, PRIORITY, STATUS, ESTIMATED_LOSS
FROM CLAIMS
ORDER BY CREATED_DATE DESC;

-- Show adjusters with claim counts
SELECT 
    a.ADJUSTER_NAME,
    a.SPECIALIZATION,
    COUNT(c.CLAIM_ID) as ACTIVE_CLAIMS,
    SUM(c.ESTIMATED_LOSS) as TOTAL_LOSS
FROM ADJUSTERS a
LEFT JOIN CLAIMS c ON a.ADJUSTER_ID = c.ADJUSTER_ID
GROUP BY a.ADJUSTER_NAME, a.SPECIALIZATION
ORDER BY ACTIVE_CLAIMS DESC;

COMMIT;

-- ============================================================================
-- Optional: Create Sequences for Auto-incrementing IDs
-- ============================================================================

CREATE SEQUENCE adjuster_seq START WITH 106 INCREMENT BY 1;
CREATE SEQUENCE claim_seq START WITH 11 INCREMENT BY 1;
CREATE SEQUENCE damage_seq START WITH 12 INCREMENT BY 1;

-- ============================================================================
-- Optional: Create Indexes for Better Performance
-- ============================================================================

CREATE INDEX idx_claims_status ON CLAIMS(STATUS);
CREATE INDEX idx_claims_priority ON CLAIMS(PRIORITY);
CREATE INDEX idx_claims_adjuster ON CLAIMS(ADJUSTER_ID);
CREATE INDEX idx_claims_created ON CLAIMS(CREATED_DATE);
CREATE INDEX idx_damages_claim ON DAMAGES(CLAIM_ID);

-- ============================================================================
-- Success Message
-- ============================================================================

SELECT 'Sample data inserted successfully!' as MESSAGE FROM DUAL;
SELECT 'You can now start the State Farm Live Portal backend and frontend' as MESSAGE FROM DUAL;
SELECT 'Backend: cd backend && npm start' as MESSAGE FROM DUAL;
SELECT 'Frontend: cd frontend && npm start' as MESSAGE FROM DUAL;
