# Oracle Database Configuration
# Replace these values with your actual Oracle Autonomous Database credentials

# Database User (typically ADMIN for autonomous database)
DB_USER=ADMIN

# Database Password
DB_PASSWORD=your_actual_password_here

# Connection String (can be a TNS name from tnsnames.ora or full connection string)
# If using wallet/tnsnames.ora, use the service name (e.g., vibecoding_medium)
# If not using wallet, use full connection string
DB_CONNECT_STRING=vibecoding_medium

# TNS Admin Directory (path to Oracle Wallet directory)
# This is where your wallet files (cwallet.sso, tnsnames.ora, etc.) are located
# Example: /Users/yourname/wallet or C:\oracle\wallet
TNS_ADMIN=/path/to/your/wallet/directory

# Wallet Password (optional - only needed if wallet is encrypted)
# Leave empty or remove this line if using auto-login wallet (cwallet.sso)
WALLET_PASSWORD=

# Server Port
PORT=3001

# ============================================================================
# SETUP INSTRUCTIONS:
# ============================================================================
# 
# 1. Download your Oracle Wallet:
#    - Log into Oracle Cloud Console
#    - Go to Autonomous Database → Your Database
#    - Click "DB Connection"
#    - Click "Download Wallet"
#    - Extract the zip file to a directory on your computer
#
# 2. Set TNS_ADMIN:
#    - Point TNS_ADMIN to the directory where you extracted the wallet
#    - Example: TNS_ADMIN=/Users/yourname/Downloads/Wallet_MyDB
#
# 3. Set DB_CONNECT_STRING:
#    - Open tnsnames.ora from the wallet directory
#    - Find your service name (e.g., vibecoding_medium, vibecoding_high)
#    - Use that exact name as DB_CONNECT_STRING
#    - Example: DB_CONNECT_STRING=vibecoding_medium
#
# 4. If NOT using wallet (direct connection string):
#    - Remove or leave TNS_ADMIN empty
#    - Use full connection string:
#    DB_CONNECT_STRING=(description= (retry_count=20)(retry_delay=3)(address=(protocol=tcps)(port=1522)(host=adb.us-ashburn-1.oraclecloud.com))(connect_data=(service_name=xxxxx_high.adb.oraclecloud.com))(security=(ssl_server_dn_match=yes)))
#
# ============================================================================
# TESTING YOUR CONNECTION:
# ============================================================================
# 
# After configuring this file, test your connection:
#   npm run test
# 
# or
#   node test-connection.js
#
# You should see:
#   ✅ Connection successful!
#   ✅ CLAIMS table found: XX records
#   ✅ ADJUSTERS table found: XX records
#   ✅ DAMAGES table found: XX records
#
# ============================================================================
#
# ============================================================================
# NVIDIA FRAUD DETECTION MODEL (Optional)
# ============================================================================
# Configure these to enable NVIDIA model-based scoring in /api/ai-insights.
# If not set, the backend falls back to a heuristic using claim.ai_confidence_score.
#
# Expected API schema:
#  Request  (POST JSON):
#    { "instances": [
#        { "estimated_loss": number,
#          "claim_type": "string",
#          "status": "string",
#          "peril_code": "string",
#          "intake_channel": "string",
#          "days_since_incident": number }
#      ] }
#  Response:
#    { "predictions": [ { "score": 0.0..1.0 }, ... ] }
#
# HTTPS endpoint of your NVIDIA fraud model
NVIDIA_FRAUD_URL=https://your-nvidia-fraud-endpoint.example.com/v1/predict
# API key or bearer token for Authorization header
NVIDIA_FRAUD_API_KEY=your_nvidia_api_key_here
# Optional thresholds for categorizing risk in the UI (defaults: 0.7 / 0.4)
FRAUD_THRESH_HIGH=0.7
FRAUD_THRESH_MED=0.4
